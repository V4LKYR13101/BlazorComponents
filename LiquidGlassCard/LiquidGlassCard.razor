<div class="container">
    <div class="liquid-glass-card">
        @BodyContent
    </div>
</div>

<svg height="200" width="200" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg" style="display: none">
    <defs>
        <filter id="frosted" color-interpolation-filters="sRGB">
            <feImage preserveAspectRatio="none" x="0" y="0" height="1" width="1"
                     href="data:image/svg+xml;utf8,
          <svg height='200' width='200' viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'>
            <style>
.mix {
    mix-blend-mode: screen;
}
</style>
            <defs>
              <linearGradient id='Y' x1='0' x2='0' y1='2%' y2='98%'>
                <stop offset='0%' stop-color='#0F0' />
                <stop offset='100%' stop-color='#000' />
              </linearGradient>
              <linearGradient id='X' x1='2%' x2='98%' y1='0' y2='0'>
                <stop offset='0%' stop-color='#F00' />
                <stop offset='100%' stop-color='#000' />
              </linearGradient>
            </defs>

            <rect x='0' y='0' height='200' width='200' fill='#808080' />
            <g filter='blur(2px)'>
              <rect x='0' y='0' height='200' width='200' fill='#000080' />
              <rect x='0' y='0' height='200' width='200' fill='url(#Y)' class='mix' />
              <rect x='0' y='0' height='200' width='200' fill='url(#X)' class='mix' />
              <rect x='10' y='10' height='180' width='180' fill='#808080' rx='20' ry='20' filter='blur(10px)' />
            </g>
          </svg>"
        result="displacementMap" />


      <feDisplacementMap
        transform-origin="center"
        in="SourceGraphic"
        in2="blurredMap"
        scale="103"
        xChannelSelector="R"
        yChannelSelector="G" />

      <feColorMatrix
        type="matrix"
        values="1 0 0 0 0
                0 0 0 0 0
                0 0 0 0 0
                0 0 0 1 0"
        result="displacedR" />

      <feDisplacementMap
        in="SourceGraphic"
        in2="displacementMap"
        scale="103"
        xChannelSelector="R"
        yChannelSelector="G" />

      <feColorMatrix
        type="matrix"
        values="0 0 0 0 0
                0 1 0 0 0
                0 0 0 0 0
                0 0 0 1 0"
        result="displacedG" />

      <feDisplacementMap
        in="SourceGraphic"
        in2="displacementMap"
        scale="106"
        xChannelSelector="R"
        yChannelSelector="G" />

      <feColorMatrix
        type="matrix"
        values="0 0 0 0 0
                0 0 0 0 0
                0 0 1 0 0
                0 0 0 1 0"
        result="displacedB" />

      <feBlend in="displacedR" in2="displacedG" mode="screen" />
      <feBlend in2="displacedB" mode="screen" />
        </filter>
    </defs>
</svg>

<svg style="display: none">
    <filter id="glass"
            x="0%"
            y="0%"
            width="100%"
            height="100%"
            filterUnits="objectBoundingBox">
        <feTurbulence type="fractalNoise"
                      baseFrequency="0.01 0.01"
                      numOctaves="1"
                      seed="5"
                      result="turbulence" />
        <!-- Seeds: 14, 17,  -->

        <feComponentTransfer in="turbulence" result="mapped">
            <feFuncR type="gamma" amplitude="1" exponent="10" offset="0.5" />
            <feFuncG type="gamma" amplitude="0" exponent="1" offset="0" />
            <feFuncB type="gamma" amplitude="0" exponent="1" offset="0.5" />
        </feComponentTransfer>

        <feGaussianBlur in="turbulence" stdDeviation="3" result="softMap" />

        <feSpecularLighting in="softMap"
                            surfaceScale="5"
                            specularConstant="1"
                            specularExponent="100"
                            lighting-color="white"
                            result="specLight">
            <fePointLight x="-200" y="-200" z="300" />
        </feSpecularLighting>

        <feComposite in="specLight"
                     operator="arithmetic"
                     k1="0"
                     k2="1"
                     k3="1"
                     k4="0"
                     result="litImage" />

        <feDisplacementMap in="SourceGraphic"
                           in2="softMap"
                           scale="150"
                           xChannelSelector="R"
                           yChannelSelector="G" />
    </filter>
</svg>

@code {
    private readonly string _scope = $"s{Guid.NewGuid():N}";
    public ValueTask DisposeAsync() => ValueTask.CompletedTask;

    [Parameter] public RenderFragment? BodyContent { get; set; }

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
        }
    }
}